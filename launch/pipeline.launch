<?xml version="1.0"?>
<launch>

	<include file="$(find postgis_control)/launch/postgis_services.launch"/>
	
	<node name="PointCloudExporter" pkg="threedtk_tools" type="slam6d_exporter" output="screen" />

	<node name="slam6d" pkg="threedtk_tools" type="slam6d_node" output="screen">
		<param name="use_callback" value="false"/>
		<param name="icp_meta" value="false"/>
		<param name="icp_rand_opt" value="false"/>
		<param name="icp_ep" value="false"/>
		<param name="icp_anim" value="false"/>
		<param name="icp_quiet" value="true"/>
		<param name="icp_mindist" value="-1"/>
		<param name="icp_maxdist" value="-1"/>
		<param name="icp_octree_number_of_points" value="1"/>
		<param name="icp_octree_voxelsize" value="5"/>
		<param name="icp_types" value="0"/>
		<param name="icp_mdm" value="50"/>
		<param name="icp_mni" value="1000"/>
		<param name="icp_epsilon" value="0.0000001"/>
	</node>

	<node name="lvr_reconstruction" pkg="lvr_tools" type="lvr_reconstruction_node" output="screen" >
		<param name="use_callback" value="false" />
	</node>

	<node name="lvr_fusion" pkg="lvr_tools" type="lvr_fusion_node" output="screen">
		<param name="verbose_lvr" value="false"/>
		<param name="use_callback" value="false"/>
		<param name="type" value="integrate"/>
		<param name="distance_threshold" value="0.05"/>
	</node>

	<node name="lvr_slicer" pkg="lvr_tools" type="lvr_slicer_node" output="screen">
		<param name="verbose_lvr" value="false"/>
		<param name="activate_callback" value="true"/>
		<!--param name="mesh_topic" value="$(arg meshFromReconstruction)"/>
		<param name="single_slice_grid_topic" value="/single_grid"/>
		<param name="single_slice_marker_topic" value="/single_grid_marker"/>
		<param name="multi_slice_grid_topic" value="/multi_grid"/>
		<param name="multi_slice_marker_topic" value="/multi_grid_marker"/-->
		<param name="dimension" value="z"/>
		<param name="single_slice_value" value="1.0"/>
		<param name="multi_slice_min_value" value="0.0"/>
		<param name="multi_slice_max_value" value="1.0"/>
		<param name="multi_slice_resolution" value="0.05"/>
		<param name="grid_resolution" value = "0.01"/>
		<param name="grid_unoccupied_default" value = "0.0"/>
	</node>


</launch>
